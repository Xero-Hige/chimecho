<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>New Alert</title>
</head>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap.css') }}">
<body>
<div class="container-fluid">

    <div class="row">
        <div class="col-lg-12">
            <div class="col-lg-2 text-center"><a href="/"><img
                    src="https://dailygiveawayalert.com/assets/images/icon-alert.png"/></a>
            </div>
            <div class="col-lg-8 text-center"><h1>Nueva Alerta</h1></div>

            <div class="col-lg-1 text-center"><a href="/" class="btn btn-info btn-block">Board</a>
                <a href="/quest" class="btn btn-info btn-block">Nueva alerta</a>
                <a href="/list" class="btn btn-info btn-block">Listado</a>
                <a href="/load" class="btn btn-info btn-block">Load</a>
            </div>
        </div>
    </div>
</div>

<form method="post" action="/create">
    <div class="container-fluid">

        <h2>Descripcion de la alerta</h2>
        <div class="col-lg-9">
            <div class="col-lg-2">
                Nombre de la alerta:
            </div>
            <div class="col-lg-7">
                <input type="text" name="ALERT_NAME">
            </div>
        </div>
        <div class="col-lg-9">
            <div class="col-lg-2">
                Descripcion:
            </div>
            <div class="col-lg-7">
                <input type="text" name="ALERT_DESC">
            </div>
        </div>
        <div class="col-lg-9">
            <div class="col-lg-2">
                Prioridad
            </div>
            <div class="col-lg-4">
                <select class="form-control" name="ALERT_LEVEL">
                    {% for option in [("GREEN","Baja"),("YELLOW","Media"),("RED","Alta")] %}
                        <option value="{{ option[0] }}">{{ option[1] }}</option>
                    {% endfor %}</select>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <h2>Campos a mostrar</h2>
        {% for field in fields[0]["FIELDS"] %}
            <input type="checkbox" name="FIELD_{{ field[1] }}"/> {{ field[0] }}
            <input type="hidden" name="{{ field[1] }}" value="{{ field[0] }}">
            <br>
        {% endfor %}
        <h2>Condiciones de alerta</h2>
        {% for field_id in sorted(fields.keys()) if field_id >= 1 %}

            <div class="col-lg-9">
                <div class="col-lg-3">
                    <input type="checkbox" name="CHK_{{ field_id }}"/>
                    Condicion: {{ fields[field_id]["NAME"] }}
                </div>
                {% if fields[field_id]["TYPE"] == "FREE_COMPARER" %}
                    <div class="col-lg-2">

                        <select class="form-control" name="{{ field_id }}_OPTION">
                            {% for option in fields[field_id]["OPTIONS"] %}
                                <option value="{{ option[1] }}">{{ option[0] }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="col-lg-4">

                        <input type="text" name="{{ field_id }}_VALUE">
                    </div>
                {% endif %}

                {% if fields[field_id]["TYPE"] == "CONDITIONAL_COMPARER" %}
                    <div class="col-lg-2">

                        <select class="form-control" name="{{ field_id }}_OPTION">
                            {% for option in fields[field_id]["OPTIONS"] %}
                                <option value="{{ option[1] }}">{{ option[0] }}</option>
                            {% endfor %}
                        </select>

                    </div>

                    <div class="col-lg-2">

                        <select class="form-control" name="{{ field_id }}_VALUE">
                            {% for option in fields[field_id]["VALUES"] %}
                                <option value="{{ option[1] }}">{{ option[0] }}</option>
                            {% endfor %}
                        </select>

                    </div>
                {% endif %}
            </div>
            <input type="hidden" value="{{ fields[field_id]["QUERY"] }}" name="{{ field_id }}_QUERY">
        {% endfor %}
        <!input type="hidden" value="empt">
        <input type="hidden" value="{{ len(fields.keys()) }}" name="Fields_Number">
        <input type="hidden" value="{{ fields[-1]["QUERY"] }}" name="Query"/>
    </div>
    <input type="submit" value="Submit">

</form>
</body>
</html>