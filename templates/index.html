<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>{{ pagename }}</title>

    <!-- Bootstrap Core CSS -->
    <link href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="{{ url_for('static', filename='vendor/metisMenu/metisMenu.min.css') }}" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="{{ url_for('static', filename='dist/css/sb-admin-2.css') }}" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <link href="{{ url_for('static', filename='vendor/morrisjs/morris.css') }}" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="{{ url_for('static', filename='vendor/font-awesome/css/font-awesome.min.css') }}" rel="stylesheet"
          type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<!-- jQuery -->
<script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>

<!-- Bootstrap Core JavaScript -->
<script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.min.js') }}"></script>

<!-- Metis Menu Plugin JavaScript -->
<script src="{{ url_for('static', filename='vendor/metisMenu/metisMenu.min.js') }}"></script>

<!-- Morris Charts JavaScript -->
<script src="{{ url_for('static', filename='vendor/raphael/raphael.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/morrisjs/morris.min.js') }}"></script>
<script src="{{ url_for('static', filename='data/morris-data.js') }}"></script>

<!-- Custom Theme JavaScript -->
<script src="{{ url_for('static', filename='dist/js/sb-admin-2.js') }}"></script>

<body>
<div id="wrapper">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><!--img
                            src="{{ url_for('static', filename='images/logo.png') }}"/-->Tablero de Alertas</a>
        </div>
        <!-- /.navbar-header -->

        <ul class="nav navbar-top-links navbar-right">
            <li class="dropdown">
                <iframe src="http://free.timeanddate.com/clock/i5izezmy/n51/tlar4/fn13/fs16/tct/pct/pd2/tt0/tm2/td2/th1/ts1/tb4"
                        frameborder="0" width="158" height="40" allowTransparency="true"></iframe>
        </ul>
        <!-- /.navbar-top-links -->

        <div class="navbar-default sidebar" role="navigation">
            <div class="sidebar-nav navbar-collapse">
                <ul class="nav" id="side-menu">
                    {#                    <li class="sidebar-search">
                                <div class="input-group custom-search-form">
                                    <input type="text" class="form-control" placeholder="Search...">
                                    <span class="input-group-btn">
                                        <button class="btn btn-default" type="button">
                                            <i class="fa fa-search"></i>
                                        </button>
                                    </span>
                                </div>
                                <!-- /input-group -->
                            </li>#}
                    <li>
                        <a href="/"><i class="fa fa-bell fa-fw"></i> Dashboard</a>
                    </li>
                    <li>
                        <a href="/create"><i class="fa fa-edit fa-fw"></i> Crear Alertas </a>
                    </li>
                    <li>
                        <a href="/list"><i class="fa fa-bullhorn fa-fw"></i> Listado Completo </a>
                    </li>
                    <li>
                        <a href="/load"><i class="fa fa-refresh fa-fw"></i> Forzar recarga</a>
                    </li>
                    <li>
                        <a href="/delete"><i class="fa fa-warning fa-fw"></i>Eliminar Alerta</a>
                    </li>
                </ul>
            </div>
            <!-- /.sidebar-collapse -->
        </div>
        <!-- /.navbar-static-side -->
    </nav>

    <div id="page-wrapper">
        <div class="col-lg-12">
            <h1 class="page-header">{{ pagename }}</h1>
        </div>
        <!-- Page content -->
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-4 col-md-6">
                    <div class="panel panel-green">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-info-circle fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">{{ amounts.get("green",0) }}</div>
                                    <div>alertas</div>
                                </div>
                            </div>
                        </div>
                        <a href="/toggleGreen">
                            <div class="panel-footer">
                                {% if not enabled["green"] %}
                                    <span class="pull-left">Ocultas</span>
                                    <span class="pull-right"><i class="fa fa-ban"></i></span>
                                {% else %}
                                    <span class="pull-left">Visibles</span>
                                    <span class="pull-right"><i class="fa fa-check-circle"></i></span>
                                {% endif %}
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="panel panel-yellow">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-exclamation-circle fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">{{ amounts.get("yellow",0) }}</div>
                                    <div>alertas</div>
                                </div>
                            </div>
                        </div>
                        <a href="/toggleYellow">
                            <div class="panel-footer">
                                {% if not enabled["yellow"] %}
                                    <span class="pull-left">Ocultas</span>
                                    <span class="pull-right"><i class="fa fa-ban"></i></span>
                                {% else %}
                                    <span class="pull-left">Visibles</span>
                                    <span class="pull-right"><i class="fa fa-check-circle"></i></span>
                                {% endif %}
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="panel panel-red">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-exclamation-triangle fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">{{ amounts.get("red",0) }}</div>
                                    <div>alertas</div>
                                </div>
                            </div>
                        </div>
                        <a href="/toggleRed">
                            <div class="panel-footer">
                                {% if not enabled["red"] %}
                                    <span class="pull-left">Ocultas</span>
                                    <span class="pull-right"><i class="fa fa-ban"></i></span>
                                {% else %}
                                    <span class="pull-left">Visibles</span>
                                    <span class="pull-right"><i class="fa fa-check-circle"></i></span>
                                {% endif %}
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>

            </div>

            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            Alertas
                        </div>
                        <div class="panel-body">
                            {% for  x in range(0,3) %}
                                <div class="col-lg-4">
                                    <div class="list-group">
                                        {% for alert in alerts %}
                                            {% if loop.index0 % 3 == x %}
                                                <div class="panel panel-{{ groups[alert["TYPE"]] }}">
                                                    <div class="panel-heading">
                                                        {{ alert["NAME"].title() }}
                                                    </div>
                                                    <div class="panel-body">
                                                        <ul>
                                                            {% for tag in alert["TAGS"] %}
                                                                <li><b>{{ tag[0] }}</b> -> <i>{{ tag[1] }}</i></li>
                                                            {% endfor %}
                                                        </ul>
                                                    </div>
                                                    <div class="panel-footer">
                                                        {{ alert["DESC"] }}
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                        <div class="panel-footer text-center">

                            <form action="/" method="post">
                                {% if page > 0 %}
                                    <button class="btn btn-lg btn-outline btn-primary" type="submit" name="PAGE"
                                            value="{{ page - 1 }}">
                                        <
                                    </button>
                                {% endif %}
                                {% for p in range(page - 2,page) if p >= 0 %}
                                    <button class="btn btn-lg btn-outline btn-info" type="submit" name="PAGE"
                                            value="{{ p }}">{{ p }}</button>
                                {% endfor %}
                                <button class="btn btn-lg btn-info" type="submit" name="PAGE"
                                        value="{{ page }}">{{ page }}</button>
                                {% for p in range(page + 1,page + 3) if p < pages %}
                                    <button class="btn btn-lg btn-outline btn-info" type="submit" name="PAGE"
                                            value="{{ p }}">{{ p }}</button>
                                {% endfor %}
                                {% if page < pages-1 %}
                                    <button class="btn btn-lg btn-outline btn-primary" type="submit" name="PAGE"
                                            value="{{ page + 1 }}">
                                        >
                                    </button>
                                {% endif %}
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page content -->
        </div>
    </div>
</div>
</body>


</html>
